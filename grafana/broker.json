{
    "annotations": {
      "list": [
        {
          "builtIn": 1,
          "datasource": "-- Grafana --",
          "enable": true,
          "hide": true,
          "iconColor": "rgba(0, 211, 255, 1)",
          "name": "Annotations & Alerts",
          "target": {
            "limit": 100,
            "matchAny": false,
            "tags": [],
            "type": "dashboard"
          },
          "type": "dashboard"
        }
      ]
    },
    "description": "Solace Broker Dashboard",
    "editable": true,
    "fiscalYearStartMonth": 0,
    "graphTooltip": 0,
    "id": 1,
    "iteration": 1645260945151,
    "links": [],
    "liveNow": false,
    "panels": [
      {
        "description": "",
        "fieldConfig": {
          "defaults": {
            "mappings": [
              {
                "options": {
                  "false": {
                    "index": 1,
                    "text": "Down"
                  },
                  "true": {
                    "index": 0,
                    "text": "Up"
                  }
                },
                "type": "value"
              }
            ],
            "noValue": "N/A",
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                }
              ]
            },
            "unit": "short"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 5,
          "w": 4,
          "x": 0,
          "y": 0
        },
        "id": 30,
        "options": {
          "colorMode": "value",
          "graphMode": "none",
          "justifyMode": "auto",
          "orientation": "auto",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "/.*/",
            "values": false
          },
          "textMode": "auto"
        },
        "pluginVersion": "8.3.4",
        "targets": [
          {
            "datasource": {
              "type": "influxdb",
              "uid": "mW_PJk-7k"
            },
            "query": "from(bucket: v.defaultBucket)\n  |> range(start: -1m)\n  |> filter(fn: (r) => r[\"_measurement\"] == \"redundancy\" and r[\"host\"] == \"${host}\")\n  |> filter(fn: (r) => r[\"_field\"] == \"primary-status-activity\" or r[\"_field\"] == \"backup-status-activity\")\n  |> last()\n  |> pivot(rowKey:[\"_time\"], columnKey: [\"_field\"], valueColumn: \"_value\")\n  |> group(columns:[\"host\"])\n  |> map(fn: (r) => ({ activity_status: \n    if r[\"active-standby-role\"] == \"Primary\" then r[\"primary-status-activity\"] \n    else if r[\"active-standby-role\"] == \"Backup\" then\n      r[\"backup-status-activity\"]\n    else \"N/A\"\n    \n    }))\n",
            "refId": "A"
          }
        ],
        "title": "Redundancy Activity",
        "transformations": [],
        "type": "stat"
      },
      {
        "description": "",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisLabel": "",
              "axisPlacement": "auto",
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "auto",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            }
          },
          "overrides": []
        },
        "gridPos": {
          "h": 5,
          "w": 4,
          "x": 4,
          "y": 0
        },
        "id": 10,
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom"
          },
          "tooltip": {
            "mode": "single"
          }
        },
        "pluginVersion": "8.3.4",
        "targets": [
          {
            "datasource": {
              "type": "influxdb",
              "uid": "mW_PJk-7k"
            },
            "query": "from(bucket: v.defaultBucket)\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) => r[\"_measurement\"] == \"global_stats\" and r[\"host\"] == \"${host}\")\n  |> filter(fn: (r) => r[\"_field\"] == \"client-data-messages-received\" or r[\"_field\"] == \"client-data-messages-sent\")\n  |> pivot(rowKey:[\"_time\"], columnKey: [\"_field\"], valueColumn: \"_value\")\n  |> group(columns:[\"host\"])\n  |> keep(columns:[\"_time\",\"client-data-messages-received\",\"client-data-messages-sent\"])\n",
            "refId": "A"
          }
        ],
        "title": "Message Counter",
        "transformations": [
          {
            "id": "organize",
            "options": {
              "excludeByName": {},
              "indexByName": {},
              "renameByName": {
                "client-data-messages-received": "Received",
                "client-data-messages-sent": "Transmitted"
              }
            }
          }
        ],
        "type": "timeseries"
      },
      {
        "description": "",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "continuous-GrYlRd"
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                }
              ]
            },
            "unit": "Bps"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 5,
          "w": 4,
          "x": 8,
          "y": 0
        },
        "id": 8,
        "options": {
          "displayMode": "basic",
          "orientation": "horizontal",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "showUnfilled": true
        },
        "pluginVersion": "8.3.4",
        "targets": [
          {
            "datasource": {
              "type": "influxdb",
              "uid": "mW_PJk-7k"
            },
            "groupBy": [
              {
                "params": [
                  "$__interval"
                ],
                "type": "time"
              },
              {
                "params": [
                  "0"
                ],
                "type": "fill"
              }
            ],
            "hide": false,
            "measurement": "global_stats",
            "orderByTime": "ASC",
            "policy": "v1rp",
            "query": "from(bucket: v.defaultBucket)\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) => r[\"_measurement\"] == \"global_stats\" and r[\"host\"] == \"${host}\")\n  |> filter(fn: (r) => r[\"_field\"] == \"current-ingress-byte-rate-per-second\" or r[\"_field\"] == \"current-egress-byte-rate-per-second\")\n  |> pivot(rowKey:[\"_time\"], columnKey: [\"_field\"], valueColumn: \"_value\")\n  |> group(columns:[\"host\"])\n  |> keep(columns:[\"current-ingress-byte-rate-per-second\",\"current-egress-byte-rate-per-second\"])\n",
            "rawQuery": true,
            "refId": "A",
            "resultFormat": "time_series",
            "select": [
              [
                {
                  "params": [
                    "current-ingress-byte-rate-per-second"
                  ],
                  "type": "field"
                },
                {
                  "params": [],
                  "type": "last"
                }
              ],
              [
                {
                  "params": [
                    "current-egress-byte-rate-per-second"
                  ],
                  "type": "field"
                },
                {
                  "params": [],
                  "type": "last"
                }
              ]
            ],
            "tags": [
              {
                "key": "host",
                "operator": "=~",
                "value": "/^$host$/"
              }
            ]
          }
        ],
        "title": "Message Flow",
        "transformations": [
          {
            "id": "organize",
            "options": {
              "excludeByName": {},
              "indexByName": {
                "current-egress-byte-rate-per-second": 1,
                "current-ingress-byte-rate-per-second": 0
              },
              "renameByName": {
                "current-egress-byte-rate-per-second": "Transmitted",
                "current-egress-rate-per-second": "Transmitted",
                "current-ingress-byte-rate-per-second": "Received",
                "current-ingress-rate-per-second": "Received"
              }
            }
          }
        ],
        "type": "bargauge"
      },
      {
        "description": "",
        "fieldConfig": {
          "defaults": {
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 1000
                }
              ]
            },
            "unit": "short"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 5,
          "w": 4,
          "x": 12,
          "y": 0
        },
        "id": 34,
        "options": {
          "colorMode": "value",
          "graphMode": "area",
          "justifyMode": "auto",
          "orientation": "auto",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "textMode": "auto"
        },
        "pluginVersion": "8.3.4",
        "targets": [
          {
            "datasource": {
              "type": "influxdb",
              "uid": "mW_PJk-7k"
            },
            "groupBy": [
              {
                "params": [
                  "$__interval"
                ],
                "type": "time"
              },
              {
                "params": [
                  "0"
                ],
                "type": "fill"
              }
            ],
            "hide": false,
            "measurement": "global_stats",
            "orderByTime": "ASC",
            "policy": "v1rp",
            "query": "from(bucket: v.defaultBucket)\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) => r[\"_measurement\"] == \"global_stats\" and r[\"host\"] == \"${host}\")\n  |> filter(fn: (r) => r[\"_field\"] == \"total-ingress-discards\" or r[\"_field\"] == \"total-egress-discards\")\n  |> pivot(rowKey:[\"_time\"], columnKey: [\"_field\"], valueColumn: \"_value\")\n  |> group(columns:[\"host\"])\n  |> keep(columns:[\"_time\",\"total-ingress-discards\",\"total-egress-discards\"])\n",
            "rawQuery": true,
            "refId": "A",
            "resultFormat": "time_series",
            "select": [
              [
                {
                  "params": [
                    "current-ingress-byte-rate-per-second"
                  ],
                  "type": "field"
                },
                {
                  "params": [],
                  "type": "last"
                }
              ],
              [
                {
                  "params": [
                    "current-egress-byte-rate-per-second"
                  ],
                  "type": "field"
                },
                {
                  "params": [],
                  "type": "last"
                }
              ]
            ],
            "tags": [
              {
                "key": "host",
                "operator": "=~",
                "value": "/^$host$/"
              }
            ]
          }
        ],
        "title": "Message Discards",
        "transformations": [
          {
            "id": "organize",
            "options": {
              "excludeByName": {},
              "indexByName": {
                "_time": 0,
                "total-egress-discards": 2,
                "total-ingress-discards": 1
              },
              "renameByName": {
                "current-egress-byte-rate-per-second": "Transmitted",
                "current-egress-rate-per-second": "Transmitted",
                "current-ingress-byte-rate-per-second": "Received",
                "current-ingress-rate-per-second": "Received",
                "total-egress-discards": "Tx Discards",
                "total-ingress-discards": "Rx Discards"
              }
            }
          }
        ],
        "type": "stat"
      },
      {
        "fieldConfig": {
          "defaults": {
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "orange",
                  "value": 10000
                }
              ]
            },
            "unit": "short"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 5,
          "w": 4,
          "x": 16,
          "y": 0
        },
        "id": 17,
        "options": {
          "colorMode": "value",
          "graphMode": "area",
          "justifyMode": "auto",
          "orientation": "auto",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "textMode": "auto"
        },
        "pluginVersion": "8.3.4",
        "targets": [
          {
            "datasource": {
              "type": "influxdb",
              "uid": "mW_PJk-7k"
            },
            "query": "from(bucket: v.defaultBucket)\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) => r[\"_measurement\"] == \"message_spool\" and r[\"host\"] == \"${host}\")\n  |> filter(fn: (r) => r[\"_field\"] == \"total-messages-currently-spooled\")\n  |> pivot(rowKey:[\"_time\"], columnKey: [\"_field\"], valueColumn: \"_value\")\n  |> group(columns:[\"host\"])\n  |> keep(columns:[\"_time\",\"total-messages-currently-spooled\"])",
            "refId": "A"
          }
        ],
        "title": "# Messages Spooled",
        "transformations": [
          {
            "id": "organize",
            "options": {
              "excludeByName": {},
              "indexByName": {},
              "renameByName": {
                "current-persist-usage": "Storage (MB)",
                "total-messages-currently-spooled": "# Messages"
              }
            }
          }
        ],
        "type": "stat"
      },
      {
        "fieldConfig": {
          "defaults": {
            "mappings": [],
            "max": 100,
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "yellow",
                  "value": 100
                }
              ]
            },
            "unit": "percentunit"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 5,
          "w": 4,
          "x": 20,
          "y": 0
        },
        "id": 33,
        "options": {
          "colorMode": "value",
          "graphMode": "area",
          "justifyMode": "auto",
          "orientation": "auto",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "text": {},
          "textMode": "auto"
        },
        "pluginVersion": "8.3.4",
        "targets": [
          {
            "datasource": {
              "type": "influxdb",
              "uid": "mW_PJk-7k"
            },
            "query": "from(bucket: v.defaultBucket)\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) => r[\"_measurement\"] == \"message_spool\" and r[\"host\"] == \"${host}\")\n  |> filter(fn: (r) => r[\"_field\"] == \"current-persist-usage\" or r[\"_field\"] == \"max-disk-usage\")\n  |> pivot(rowKey:[\"_time\"], columnKey: [\"_field\"], valueColumn: \"_value\")\n  |> group(columns:[\"host\"])\n  |> map(fn: (r) => ({ r with spool_use_percent: r[\"current-persist-usage\"] / float(v: r[\"max-disk-usage\"])}))\n  |> keep(columns:[\"_time\",\"spool_use_percent\"])\n\n",
            "refId": "A"
          }
        ],
        "title": "Messages Spool Usage",
        "transformations": [
          {
            "id": "organize",
            "options": {
              "excludeByName": {},
              "indexByName": {},
              "renameByName": {
                "current-persist-usage": "Storage (MB)",
                "total-messages-currently-spooled": "# Messages"
              }
            }
          }
        ],
        "type": "stat"
      },
      {
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisLabel": "",
              "axisPlacement": "auto",
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "auto",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "max": 100,
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "#EAB839",
                  "value": 60
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            },
            "unit": "percent"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 5,
          "w": 4,
          "x": 0,
          "y": 5
        },
        "id": 2,
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom"
          },
          "tooltip": {
            "mode": "single"
          }
        },
        "pluginVersion": "8.3.4",
        "targets": [
          {
            "datasource": {
              "type": "influxdb",
              "uid": "mW_PJk-7k"
            },
            "query": "from(bucket: v.defaultBucket)\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) => r[\"_measurement\"] == \"memory\" and r[\"host\"] == \"${host}\")\n  |> filter(fn: (r) => r[\"_field\"] == \"physical-memory-usage-percent\" or r[\"_field\"] == \"subscription-memory-usage-percent\" or r[\"_field\"] == \"nab-buffer-load-factor\")\n  |> pivot(rowKey:[\"_time\"], columnKey: [\"_field\"], valueColumn: \"_value\")\n  |> group(columns:[\"host\"])\n  |> keep(columns:[\"_time\",\"physical-memory-usage-percent\",\"subscription-memory-usage-percent\",\"nab-buffer-load-factor\"])",
            "refId": "A"
          }
        ],
        "title": "Memory Usage",
        "transformations": [
          {
            "id": "organize",
            "options": {
              "excludeByName": {},
              "indexByName": {},
              "renameByName": {
                "nab-buffer-load-factor": "NAB buf load factor",
                "physical-memory-usage-percent": "Physical Memory",
                "subscription-memory-usage-percent": "Subscription Memory"
              }
            }
          }
        ],
        "type": "timeseries"
      },
      {
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "yellow",
                  "value": 60
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            },
            "unit": "percent"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 5,
          "w": 4,
          "x": 4,
          "y": 5
        },
        "id": 19,
        "options": {
          "colorMode": "value",
          "graphMode": "area",
          "justifyMode": "auto",
          "orientation": "auto",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "textMode": "auto"
        },
        "pluginVersion": "8.3.4",
        "targets": [
          {
            "datasource": {
              "type": "influxdb",
              "uid": "mW_PJk-7k"
            },
            "query": "from(bucket: v.defaultBucket)\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) => r[\"_measurement\"] == \"storage_element\" and r[\"host\"] == \"${host}\" and r[\"name\"] == \"spool\")\n  |> filter(fn: (r) => r[\"_field\"] == \"used-percentage\")\n  |> pivot(rowKey:[\"_time\"], columnKey: [\"_field\"], valueColumn: \"_value\")\n  |> group(columns:[\"host\"])\n  |> keep(columns:[\"_time\",\"used-percentage\"])",
            "refId": "A"
          }
        ],
        "title": "Disk Usage",
        "type": "stat"
      },
      {
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 10000000
                }
              ]
            },
            "unit": "µs"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 5,
          "w": 4,
          "x": 8,
          "y": 5
        },
        "id": 28,
        "options": {
          "colorMode": "value",
          "graphMode": "area",
          "justifyMode": "auto",
          "orientation": "auto",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "textMode": "auto"
        },
        "pluginVersion": "8.3.4",
        "targets": [
          {
            "datasource": {
              "type": "influxdb",
              "uid": "mW_PJk-7k"
            },
            "query": "from(bucket: v.defaultBucket)\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) => r[\"_measurement\"] == \"system_health\" and r[\"host\"] == \"${host}\")\n  |> filter(fn: (r) => r[\"_field\"] == \"disk-latency-current-value\")\n  |> pivot(rowKey:[\"_time\"], columnKey: [\"_field\"], valueColumn: \"_value\")\n  |> group(columns:[\"host\"])\n  |> keep(columns:[\"_time\",\"disk-latency-current-value\"])",
            "refId": "A"
          }
        ],
        "title": "Disk latency",
        "transformations": [],
        "type": "stat"
      },
      {
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 500000
                }
              ]
            },
            "unit": "µs"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 5,
          "w": 4,
          "x": 12,
          "y": 5
        },
        "id": 35,
        "options": {
          "colorMode": "value",
          "graphMode": "area",
          "justifyMode": "auto",
          "orientation": "auto",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "textMode": "auto"
        },
        "pluginVersion": "8.3.4",
        "targets": [
          {
            "datasource": {
              "type": "influxdb",
              "uid": "mW_PJk-7k"
            },
            "query": "from(bucket: v.defaultBucket)\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) => r[\"_measurement\"] == \"system_health\" and r[\"host\"] == \"${host}\")\n  |> filter(fn: (r) => r[\"_field\"] == \"compute-latency-current-value\")\n  |> pivot(rowKey:[\"_time\"], columnKey: [\"_field\"], valueColumn: \"_value\")\n  |> group(columns:[\"host\"])\n  |> keep(columns:[\"_time\",\"compute-latency-current-value\"])",
            "refId": "A"
          }
        ],
        "title": "Compute latency",
        "transformations": [],
        "type": "stat"
      },
      {
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisLabel": "",
              "axisPlacement": "auto",
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "auto",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                }
              ]
            },
            "unit": "Bps"
          },
          "overrides": [
            {
              "__systemRef": "hideSeriesFrom",
              "matcher": {
                "id": "byNames",
                "options": {
                  "mode": "exclude",
                  "names": [
                    "Rx Rate"
                  ],
                  "prefix": "All except:",
                  "readOnly": true
                }
              },
              "properties": [
                {
                  "id": "custom.hideFrom",
                  "value": {
                    "legend": false,
                    "tooltip": false,
                    "viz": true
                  }
                }
              ]
            }
          ]
        },
        "gridPos": {
          "h": 5,
          "w": 4,
          "x": 16,
          "y": 5
        },
        "id": 37,
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom"
          },
          "tooltip": {
            "mode": "single"
          }
        },
        "pluginVersion": "8.3.4",
        "targets": [
          {
            "datasource": {
              "type": "influxdb",
              "uid": "mW_PJk-7k"
            },
            "query": "from(bucket: v.defaultBucket)\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) => r[\"_measurement\"] == \"interface\" and r[\"host\"] == \"${host}\")\n  |> filter(fn: (r) => r[\"_field\"] == \"rx-bytes\" or r[\"_field\"] == \"tx-bytes\")\n  |> pivot(rowKey:[\"_time\"], columnKey: [\"_field\"], valueColumn: \"_value\")\n  |> group(columns:[\"host\"])\n  |> derivative(columns:[\"rx-bytes\",\"tx-bytes\"])\n  |> keep(columns:[\"_time\",\"rx-bytes\",\"tx-bytes\"])\n",
            "refId": "A"
          }
        ],
        "title": "Network Interface",
        "transformations": [
          {
            "id": "organize",
            "options": {
              "excludeByName": {},
              "indexByName": {},
              "renameByName": {
                "nab-buffer-load-factor": "NAB buf load factor",
                "physical-memory-usage-percent": "Physical Memory",
                "rx-bytes": "Rx Rate",
                "subscription-memory-usage-percent": "Subscription Memory",
                "tx-bytes": "Tx Rate"
              }
            }
          }
        ],
        "type": "timeseries"
      },
      {
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisLabel": "",
              "axisPlacement": "auto",
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "auto",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 2000000
                }
              ]
            },
            "unit": "µs"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 5,
          "w": 4,
          "x": 20,
          "y": 5
        },
        "id": 36,
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom"
          },
          "tooltip": {
            "mode": "single"
          }
        },
        "pluginVersion": "8.3.4",
        "targets": [
          {
            "datasource": {
              "type": "influxdb",
              "uid": "mW_PJk-7k"
            },
            "query": "from(bucket: v.defaultBucket)\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) => r[\"_measurement\"] == \"system_health\" and r[\"host\"] == \"${host}\")\n  |> filter(fn: (r) => r[\"_field\"] == \"network-latency-current-value\" or r[\"_field\"] == \"mate-link-latency-current-value\")\n  |> pivot(rowKey:[\"_time\"], columnKey: [\"_field\"], valueColumn: \"_value\")\n  |> group(columns:[\"host\"])\n  |> keep(columns:[\"_time\",\"network-latency-current-value\",\"mate-link-latency-current-value\"])",
            "refId": "A"
          }
        ],
        "title": "Network & mate-link latency",
        "transformations": [
          {
            "id": "organize",
            "options": {
              "excludeByName": {},
              "indexByName": {},
              "renameByName": {
                "mate-link-latency-current-value": "Mate-link",
                "network-latency-current-value": "Network"
              }
            }
          }
        ],
        "type": "timeseries"
      },
      {
        "description": " ",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "custom": {
              "align": "auto",
              "displayMode": "auto"
            },
            "links": [
              {
                "title": "",
                "url": "http://192.168.1.80:3000/d/Cq_vjZ-nk/vpn?var-host=$host&var-vpn=${__data.fields[\"VPN Name\"]}"
              }
            ],
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                }
              ]
            }
          },
          "overrides": []
        },
        "gridPos": {
          "h": 5,
          "w": 8,
          "x": 0,
          "y": 10
        },
        "id": 13,
        "links": [],
        "options": {
          "footer": {
            "fields": "",
            "reducer": [
              "sum"
            ],
            "show": false
          },
          "frameIndex": 29,
          "showHeader": true,
          "sortBy": []
        },
        "pluginVersion": "8.3.4",
        "repeat": "region",
        "repeatDirection": "h",
        "targets": [
          {
            "datasource": {
              "type": "influxdb",
              "uid": "mW_PJk-7k"
            },
            "query": "from(bucket: v.defaultBucket)\n  |> range(start: -1m)\n  |> filter(fn: (r) => r[\"_measurement\"] == \"vpn\" and r[\"host\"] == \"${host}\")\n  |> filter(fn: (r) => r[\"_field\"] == \"local-status\" or r[\"_field\"] == \"connections\" or r[\"_field\"]==\"enabled\")\n  |> unique()\n  |> pivot(rowKey:[\"_time\"], columnKey: [\"_field\"], valueColumn: \"_value\")\n  |> group(columns:[\"host\"])\n  |> filter(fn: (r) => r.enabled == true)\n  |> keep(columns:[\"message-vpn\",\"connections\",\"local-status\"])",
            "refId": "A"
          }
        ],
        "title": "VPN List",
        "transformations": [
          {
            "id": "organize",
            "options": {
              "excludeByName": {},
              "indexByName": {},
              "renameByName": {
                "connections": "# Connections",
                "local-status": "Status",
                "message-vpn": "VPN Name"
              }
            }
          }
        ],
        "type": "table"
      },
      {
        "description": "",
        "fieldConfig": {
          "defaults": {
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                }
              ]
            },
            "unit": "short"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 5,
          "w": 4,
          "x": 8,
          "y": 10
        },
        "id": 27,
        "options": {
          "colorMode": "value",
          "graphMode": "area",
          "justifyMode": "auto",
          "orientation": "auto",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "textMode": "auto"
        },
        "pluginVersion": "8.3.4",
        "targets": [
          {
            "datasource": {
              "type": "influxdb",
              "uid": "mW_PJk-7k"
            },
            "query": "from(bucket: v.defaultBucket)\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) => r[\"_measurement\"] == \"global_stats\" and r[\"host\"] == \"${host}\")\n  |> filter(fn: (r) => r[\"_field\"] == \"total-clients-connected\")\n",
            "refId": "A"
          }
        ],
        "title": "# Clients Connected",
        "transformations": [],
        "type": "stat"
      },
      {
        "description": "",
        "fieldConfig": {
          "defaults": {
            "mappings": [
              {
                "options": {
                  "false": {
                    "index": 1,
                    "text": "Down"
                  },
                  "true": {
                    "index": 0,
                    "text": "Up"
                  }
                },
                "type": "value"
              }
            ],
            "noValue": "N/A",
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                }
              ]
            },
            "unit": "short"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 5,
          "w": 4,
          "x": 12,
          "y": 10
        },
        "id": 38,
        "options": {
          "colorMode": "value",
          "graphMode": "none",
          "justifyMode": "auto",
          "orientation": "auto",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "/.*/",
            "values": false
          },
          "textMode": "auto"
        },
        "pluginVersion": "8.3.4",
        "targets": [
          {
            "datasource": {
              "type": "influxdb",
              "uid": "mW_PJk-7k"
            },
            "query": "from(bucket: v.defaultBucket)\n  |> range(start: -1m)\n  |> filter(fn: (r) => r[\"_measurement\"] == \"redundancy\" and r[\"host\"] == \"${host}\")\n  |> filter(fn: (r) => r[\"_field\"] == \"redundancy-status\" or r[\"_field\"] == \"config-status\" or r[\"_field\"] == \"adb-link-up\" or r[\"_field\"] == \"adb-hello-up\")\n  |> last()\n  |> pivot(rowKey:[\"_time\"], columnKey: [\"_field\"], valueColumn: \"_value\")\n  |> group(columns:[\"host\"])\n  |> keep(columns:[\"redundancy-status\",\"config-status\",\"adb-link-up\",\"adb-hello-up\"])",
            "refId": "A"
          }
        ],
        "title": "Redundancy",
        "transformations": [
          {
            "id": "organize",
            "options": {
              "excludeByName": {},
              "indexByName": {
                "config-status": 0,
                "redundancy-status": 1
              },
              "renameByName": {
                "adb-hello-up": "ADB Hello",
                "adb-link-up": "ADB Link",
                "config-status": "Config",
                "redundancy-status": "Status"
              }
            }
          }
        ],
        "type": "stat"
      },
      {
        "description": "",
        "fieldConfig": {
          "defaults": {
            "mappings": [
              {
                "options": {
                  "false": {
                    "index": 1,
                    "text": "Down"
                  },
                  "true": {
                    "index": 0,
                    "text": "Up"
                  }
                },
                "type": "value"
              }
            ],
            "noValue": "N/A",
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                }
              ]
            },
            "unit": "short"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 5,
          "w": 4,
          "x": 16,
          "y": 10
        },
        "id": 39,
        "options": {
          "colorMode": "value",
          "graphMode": "none",
          "justifyMode": "auto",
          "orientation": "auto",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "/.*/",
            "values": false
          },
          "textMode": "auto"
        },
        "pluginVersion": "8.3.4",
        "targets": [
          {
            "datasource": {
              "type": "influxdb",
              "uid": "mW_PJk-7k"
            },
            "query": "from(bucket: v.defaultBucket)\n  |> range(start: -1m)\n  |> filter(fn: (r) => r[\"_measurement\"] == \"replication\" and r[\"host\"] == \"${host}\")\n  |> filter(fn: (r) => r[\"_field\"] == \"bridge-admin-state\" or r[\"_field\"] == \"bridge-state\")\n  |> last()\n  |> pivot(rowKey:[\"_time\"], columnKey: [\"_field\"], valueColumn: \"_value\")\n  |> group(columns:[\"host\"])\n  |> filter(fn: (r) => r[\"bridge-admin-state\"] == \"Enabled\")\n  |> keep(columns:[\"bridge-state\"])",
            "refId": "A"
          }
        ],
        "title": "Replication",
        "transformations": [
          {
            "id": "organize",
            "options": {
              "excludeByName": {},
              "indexByName": {
                "adb-hello-up": 2,
                "adb-link-up": 1,
                "redundancy-status": 0
              },
              "renameByName": {
                "adb-hello-up": "ADB Hello",
                "adb-link-up": "ADB Link",
                "bridge-admin-state": "Bridge Admin State",
                "bridge-state": "Bridge State",
                "redundancy-status": "Status"
              }
            }
          }
        ],
        "type": "stat"
      },
      {
        "description": "",
        "fieldConfig": {
          "defaults": {
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                }
              ]
            },
            "unit": "short"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 5,
          "w": 4,
          "x": 20,
          "y": 10
        },
        "id": 31,
        "options": {
          "colorMode": "value",
          "graphMode": "none",
          "justifyMode": "auto",
          "orientation": "auto",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "/^_value$/",
            "values": false
          },
          "textMode": "auto"
        },
        "pluginVersion": "8.3.4",
        "targets": [
          {
            "datasource": {
              "type": "influxdb",
              "uid": "mW_PJk-7k"
            },
            "query": "from(bucket: v.defaultBucket)\n  |> range(start: -1m)\n  |> filter(fn: (r) => r[\"_measurement\"] == \"config_sync\" and r[\"host\"] == \"${host}\" and r[\"type\"]==\"Router\")\n  |> filter(fn: (r) => r[\"_field\"] == \"sync-state\")\n  |> last()\n  |> group()",
            "refId": "A"
          }
        ],
        "title": "Config-sync Status",
        "transformations": [],
        "type": "stat"
      }
    ],
    "refresh": "30s",
    "schemaVersion": 34,
    "style": "dark",
    "tags": [],
    "templating": {
      "list": [
        {
          "current": {
            "selected": false,
            "text": "solace-c1",
            "value": "solace-c1"
          },
          "definition": "import \"influxdata/influxdb/v1\"\nv1.tagValues(\n    bucket: v.bucket,\n    tag: \"host\",\n    predicate: (r) => true,\n    start: -1d\n)",
          "hide": 0,
          "includeAll": false,
          "label": "Host",
          "multi": false,
          "name": "host",
          "options": [],
          "query": "import \"influxdata/influxdb/v1\"\nv1.tagValues(\n    bucket: v.bucket,\n    tag: \"host\",\n    predicate: (r) => true,\n    start: -1d\n)",
          "refresh": 1,
          "regex": "",
          "skipUrlSync": false,
          "sort": 0,
          "type": "query"
        }
      ]
    },
    "time": {
      "from": "now-6h",
      "to": "now"
    },
    "timepicker": {},
    "timezone": "",
    "title": "Broker",
    "uid": "l8BEbk-7k",
    "version": 77,
    "weekStart": ""
  }